<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Musly: include/musly/musly.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Musly
   </div>
   <div id="projectbrief">An open-source audio music similarity library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_8d5c2f5333efee15c4ff88421fada498.html">musly</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">musly.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="musly__types_8h_source.html">musly/musly_types.h</a>&gt;</code><br/>
</div>
<p><a href="musly_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a69598017d76c3d22e9f5a897afae1932"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a></td></tr>
<tr class="separator:a69598017d76c3d22e9f5a897afae1932"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a69bb0402dd32bebb9e2daf0514e715c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a69bb0402dd32bebb9e2daf0514e715c7">musly_version</a> ()</td></tr>
<tr class="memdesc:a69bb0402dd32bebb9e2daf0514e715c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the version of Musly.  <a href="#a69bb0402dd32bebb9e2daf0514e715c7">More...</a><br/></td></tr>
<tr class="separator:a69bb0402dd32bebb9e2daf0514e715c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507b21c935f4bffa012cc3ddd39921cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a507b21c935f4bffa012cc3ddd39921cb">musly_debug</a> (int level)</td></tr>
<tr class="memdesc:a507b21c935f4bffa012cc3ddd39921cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the musly debug level.  <a href="#a507b21c935f4bffa012cc3ddd39921cb">More...</a><br/></td></tr>
<tr class="separator:a507b21c935f4bffa012cc3ddd39921cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a385b39f2ca83a08809329c771a314f2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a385b39f2ca83a08809329c771a314f2f">musly_jukebox_listmethods</a> ()</td></tr>
<tr class="memdesc:a385b39f2ca83a08809329c771a314f2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lists all available music similarity methods.  <a href="#a385b39f2ca83a08809329c771a314f2f">More...</a><br/></td></tr>
<tr class="separator:a385b39f2ca83a08809329c771a314f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa817bd8fc3b5dd2fb285c6bf9709983b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#aa817bd8fc3b5dd2fb285c6bf9709983b">musly_jukebox_listdecoders</a> ()</td></tr>
<tr class="memdesc:aa817bd8fc3b5dd2fb285c6bf9709983b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lists all available audio file decoders.  <a href="#aa817bd8fc3b5dd2fb285c6bf9709983b">More...</a><br/></td></tr>
<tr class="separator:aa817bd8fc3b5dd2fb285c6bf9709983b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf76c80478ff84c795cb912eaafb1e46"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#acf76c80478ff84c795cb912eaafb1e46">musly_jukebox_aboutmethod</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox)</td></tr>
<tr class="memdesc:acf76c80478ff84c795cb912eaafb1e46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describe the initialized method.  <a href="#acf76c80478ff84c795cb912eaafb1e46">More...</a><br/></td></tr>
<tr class="separator:acf76c80478ff84c795cb912eaafb1e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef82aafb34364236f29c1378d9493a4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b">musly_jukebox_poweron</a> (const char *method, const char *decoder)</td></tr>
<tr class="memdesc:aef82aafb34364236f29c1378d9493a4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to an initialized Musly jukebox object.  <a href="#aef82aafb34364236f29c1378d9493a4b">More...</a><br/></td></tr>
<tr class="separator:aef82aafb34364236f29c1378d9493a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ecc1b54fdd883b73b8bcfb8e07e5b01"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a6ecc1b54fdd883b73b8bcfb8e07e5b01">musly_jukebox_poweroff</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox)</td></tr>
<tr class="memdesc:a6ecc1b54fdd883b73b8bcfb8e07e5b01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitializes the given Musly jukebox.  <a href="#a6ecc1b54fdd883b73b8bcfb8e07e5b01">More...</a><br/></td></tr>
<tr class="separator:a6ecc1b54fdd883b73b8bcfb8e07e5b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96efc48ff5ce54f49bb20960249cfd6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#ab96efc48ff5ce54f49bb20960249cfd6">musly_jukebox_setmusicstyle</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> **tracks, int num_tracks)</td></tr>
<tr class="memdesc:ab96efc48ff5ce54f49bb20960249cfd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the jukebox music style.  <a href="#ab96efc48ff5ce54f49bb20960249cfd6">More...</a><br/></td></tr>
<tr class="separator:ab96efc48ff5ce54f49bb20960249cfd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69f7fc47f7ceb62673a53cfac06bd750"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a69f7fc47f7ceb62673a53cfac06bd750">musly_jukebox_addtracks</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> **tracks, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *trackids, int num_tracks, int generate_ids)</td></tr>
<tr class="memdesc:a69f7fc47f7ceb62673a53cfac06bd750"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add tracks to the Musly jukebox.  <a href="#a69f7fc47f7ceb62673a53cfac06bd750">More...</a><br/></td></tr>
<tr class="separator:a69f7fc47f7ceb62673a53cfac06bd750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a303866950be1803afaa5ffd47203fdc7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a303866950be1803afaa5ffd47203fdc7">musly_jukebox_removetracks</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *trackids, int num_tracks)</td></tr>
<tr class="memdesc:a303866950be1803afaa5ffd47203fdc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove tracks from the Musly jukebox.  <a href="#a303866950be1803afaa5ffd47203fdc7">More...</a><br/></td></tr>
<tr class="separator:a303866950be1803afaa5ffd47203fdc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a340577e576414de1dcacfff8df399201"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a340577e576414de1dcacfff8df399201">musly_jukebox_trackcount</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox)</td></tr>
<tr class="memdesc:a340577e576414de1dcacfff8df399201"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of tracks currently registered with the Musly jukebox.  <a href="#a340577e576414de1dcacfff8df399201">More...</a><br/></td></tr>
<tr class="separator:a340577e576414de1dcacfff8df399201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c653b4ea8349785cd437cce3a8cf99f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a2c653b4ea8349785cd437cce3a8cf99f">musly_jukebox_maxtrackid</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox)</td></tr>
<tr class="memdesc:a2c653b4ea8349785cd437cce3a8cf99f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the largest track identifier ever registered with the Musly jukebox.  <a href="#a2c653b4ea8349785cd437cce3a8cf99f">More...</a><br/></td></tr>
<tr class="separator:a2c653b4ea8349785cd437cce3a8cf99f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dfead82d6ece20a4b80e96b57ebec18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a6dfead82d6ece20a4b80e96b57ebec18">musly_jukebox_similarity</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *seed_track, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> seed_trackid, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> **tracks, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *trackids, int num_tracks, float *similarities)</td></tr>
<tr class="memdesc:a6dfead82d6ece20a4b80e96b57ebec18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the similarity between a seed track and a list of other music tracks.  <a href="#a6dfead82d6ece20a4b80e96b57ebec18">More...</a><br/></td></tr>
<tr class="separator:a6dfead82d6ece20a4b80e96b57ebec18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9446ab1e6e40fe18cf03dc2c933bfb01"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a9446ab1e6e40fe18cf03dc2c933bfb01">musly_jukebox_guessneighbors</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> seed, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *neighbors, int num_neighbors)</td></tr>
<tr class="memdesc:a9446ab1e6e40fe18cf03dc2c933bfb01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to guess the most similar neighbors to the given trackid.  <a href="#a9446ab1e6e40fe18cf03dc2c933bfb01">More...</a><br/></td></tr>
<tr class="separator:a9446ab1e6e40fe18cf03dc2c933bfb01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b99daf48098bfb2aa46ea95869ad1b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a88b99daf48098bfb2aa46ea95869ad1b">musly_jukebox_guessneighbors_filtered</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> seed, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *neighbors, int num_neighbors, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *limit_to, int num_limit_to)</td></tr>
<tr class="memdesc:a88b99daf48098bfb2aa46ea95869ad1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to guess the most similar neighbors to the given trackid.  <a href="#a88b99daf48098bfb2aa46ea95869ad1b">More...</a><br/></td></tr>
<tr class="separator:a88b99daf48098bfb2aa46ea95869ad1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c43fe07d5511b36f012a02bb7963aec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a6c43fe07d5511b36f012a02bb7963aec">musly_track_alloc</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox)</td></tr>
<tr class="memdesc:a6c43fe07d5511b36f012a02bb7963aec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a musly_track in memory.  <a href="#a6c43fe07d5511b36f012a02bb7963aec">More...</a><br/></td></tr>
<tr class="separator:a6c43fe07d5511b36f012a02bb7963aec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de4892f674f845cf4b0fe2f5af77331"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a3de4892f674f845cf4b0fe2f5af77331">musly_track_free</a> (<a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *track)</td></tr>
<tr class="memdesc:a3de4892f674f845cf4b0fe2f5af77331"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a musly_track previously allocated with <a class="el" href="musly_8h.html#a6c43fe07d5511b36f012a02bb7963aec" title="Allocates a musly_track in memory. ">musly_track_alloc()</a>.  <a href="#a3de4892f674f845cf4b0fe2f5af77331">More...</a><br/></td></tr>
<tr class="separator:a3de4892f674f845cf4b0fe2f5af77331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac23dbbe0e6452d3b06afce8f28a04c0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#ac23dbbe0e6452d3b06afce8f28a04c0a">musly_track_size</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox)</td></tr>
<tr class="memdesc:ac23dbbe0e6452d3b06afce8f28a04c0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of a musly_track in bytes.  <a href="#ac23dbbe0e6452d3b06afce8f28a04c0a">More...</a><br/></td></tr>
<tr class="separator:ac23dbbe0e6452d3b06afce8f28a04c0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a498bd23a04bf2232c1a710a024663ffd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a498bd23a04bf2232c1a710a024663ffd">musly_track_binsize</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox)</td></tr>
<tr class="memdesc:a498bd23a04bf2232c1a710a024663ffd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the buffer size in bytes required to hold a musly_track.  <a href="#a498bd23a04bf2232c1a710a024663ffd">More...</a><br/></td></tr>
<tr class="separator:a498bd23a04bf2232c1a710a024663ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac86051d740c66e0ebedd58c0f9280717"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#ac86051d740c66e0ebedd58c0f9280717">musly_track_tobin</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *from_track, unsigned char *to_buffer)</td></tr>
<tr class="memdesc:ac86051d740c66e0ebedd58c0f9280717"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serializes a musly_track to a byte buffer.  <a href="#ac86051d740c66e0ebedd58c0f9280717">More...</a><br/></td></tr>
<tr class="separator:ac86051d740c66e0ebedd58c0f9280717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04026ab777b0fcc516946250257894a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a04026ab777b0fcc516946250257894a2">musly_track_frombin</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox, unsigned char *from_buffer, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *to_track)</td></tr>
<tr class="memdesc:a04026ab777b0fcc516946250257894a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deserializes a byte buffer to a musly_track.  <a href="#a04026ab777b0fcc516946250257894a2">More...</a><br/></td></tr>
<tr class="separator:a04026ab777b0fcc516946250257894a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac12da944829cd47a94ac442306868b14"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#ac12da944829cd47a94ac442306868b14">musly_track_tostr</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *from_track)</td></tr>
<tr class="memdesc:ac12da944829cd47a94ac442306868b14"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function displays a string representation of the given musly_track.  <a href="#ac12da944829cd47a94ac442306868b14">More...</a><br/></td></tr>
<tr class="separator:ac12da944829cd47a94ac442306868b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9752c9a9adfd5f99454cb31084a717ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#a9752c9a9adfd5f99454cb31084a717ad">musly_track_analyze_pcm</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox, float *mono_22khz_pcm, int length_pcm, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *track)</td></tr>
<tr class="memdesc:a9752c9a9adfd5f99454cb31084a717ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute a music similarity model (musly_track) from the given PCM signal.  <a href="#a9752c9a9adfd5f99454cb31084a717ad">More...</a><br/></td></tr>
<tr class="separator:a9752c9a9adfd5f99454cb31084a717ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78d36e036c5a52ff77a564f9e263259"><td class="memItemLeft" align="right" valign="top"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="musly_8h.html#af78d36e036c5a52ff77a564f9e263259">musly_track_analyze_audiofile</a> (<a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *jukebox, const char *audiofile, float excerpt_length, float excerpt_start, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *track)</td></tr>
<tr class="memdesc:af78d36e036c5a52ff77a564f9e263259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute a music similarity model (musly_track) from the audio file.  <a href="#af78d36e036c5a52ff77a564f9e263259">More...</a><br/></td></tr>
<tr class="separator:af78d36e036c5a52ff77a564f9e263259"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a69598017d76c3d22e9f5a897afae1932"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MUSLY_EXPORT</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a507b21c935f4bffa012cc3ddd39921cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> void musly_debug </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the musly debug level. </p>
<p>Valid levels are 0 (Quiet, DEFAULT), 1 (Error), 2 (Warning), 3 (Info), 4 (Debug), 5 (Trace). All output will be sent to stderr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>The musly library debug level, if the level is invalid it will be set to the closest valid level. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acf76c80478ff84c795cb912eaafb1e46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char* musly_jukebox_aboutmethod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Describe the initialized method. </p>
<p>This call describes the used music similarity method of the referenced <a class="el" href="structmusly__jukebox.html" title="The Musly base object storing the initialized music similarity method and audio decoder information...">musly_jukebox</a> in more detail.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>an initialized reference to a Musly jukebox. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a description of the currently initialized music similarity method as a null terminated string.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a69f7fc47f7ceb62673a53cfac06bd750"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_addtracks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> **&#160;</td>
          <td class="paramname"><em>tracks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *&#160;</td>
          <td class="paramname"><em>trackids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_tracks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>generate_ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add tracks to the Musly jukebox. </p>
<p>To use the music similarity routines each Musly track has to be added to a jukebox. Internally Musly allocates an initialization vector for each track computed with the tracks passed to <a class="el" href="musly_8h.html#ab96efc48ff5ce54f49bb20960249cfd6" title="Initialize the jukebox music style. ">musly_jukebox_setmusicstyle()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>the Musly jukebox to add the tracks to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tracks</td><td>an array of musly_track objects to add to the jukebox. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trackids</td><td>the track identifiers for the tracks, either read or written depending on the <code>generate_ids</code> parameter. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_tracks</td><td>the length of the <code>tracks</code> and <code>trackids</code> array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">generate_ids</td><td>controls whether ids are to be generated automatically or given by the caller. If nonzero, Musly will assign sequential identifiers starting from <code>musly_jukebox_maxtrackid(jukebox) + 1</code> and write the ids to <code>trackids</code>. If zero, Musly will assign the ids given in <code>trackids</code>, replacing existing tracks for ids already used by the jukebox.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success -1 on an error. When an error is returned no track was added to Musly.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#a303866950be1803afaa5ffd47203fdc7" title="Remove tracks from the Musly jukebox. ">musly_jukebox_removetracks()</a>, <a class="el" href="musly_8h.html#a340577e576414de1dcacfff8df399201" title="Returns the number of tracks currently registered with the Musly jukebox. ">musly_jukebox_trackcount()</a>, <a class="el" href="musly_8h.html#ab96efc48ff5ce54f49bb20960249cfd6" title="Initialize the jukebox music style. ">musly_jukebox_setmusicstyle()</a>, <a class="el" href="musly_8h.html#a6dfead82d6ece20a4b80e96b57ebec18" title="Computes the similarity between a seed track and a list of other music tracks. ">musly_jukebox_similarity()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9446ab1e6e40fe18cf03dc2c933bfb01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int musly_jukebox_guessneighbors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a>&#160;</td>
          <td class="paramname"><em>seed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *&#160;</td>
          <td class="paramname"><em>neighbors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_neighbors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tries to guess the most similar neighbors to the given trackid. </p>
<p>If similarity measures implement this call, it is usually a very efficient way to pre-filter the whole jukebox collection for possible matches (neighbors) to the query song (seed). The musly_tracks do not have to be loaded to memory to use that call. It operates solely on an index usually built when adding the track to the jukebox (<a class="el" href="musly_8h.html#a69f7fc47f7ceb62673a53cfac06bd750" title="Add tracks to the Musly jukebox. ">musly_jukebox_addtracks()</a>). A maximum of num_neighbors is written in the neighbors list of track ids. The returned neighbors can be used to drastically reduce the number of input tracks (and thus computation time) for <a class="el" href="musly_8h.html#a6dfead82d6ece20a4b80e96b57ebec18" title="Computes the similarity between a seed track and a list of other music tracks. ">musly_jukebox_similarity()</a>. If the method is not implemented or all neighbors should be analyzed, -1 is returned. In that case consider all musly_tracks as possible nearest neighbors and thus as input to <a class="el" href="musly_8h.html#a6dfead82d6ece20a4b80e96b57ebec18" title="Computes the similarity between a seed track and a list of other music tracks. ">musly_jukebox_similarity()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>An initialized Musly jukebox object with tracks added through musly_jukebox_addtrack(). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seed</td><td>The seed track id to search for its nearest neighbors. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">neighbors</td><td>The neighbors will be written to this preallocated array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_neighbors</td><td>The maximum number of neighbors to write to the neighbors array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of neighbors found for the given seed trackid (success). -1 is returned on a failure.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#a6dfead82d6ece20a4b80e96b57ebec18" title="Computes the similarity between a seed track and a list of other music tracks. ">musly_jukebox_similarity()</a>, musly_jukebox_addtrack(). </dd></dl>

</div>
</div>
<a class="anchor" id="a88b99daf48098bfb2aa46ea95869ad1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int musly_jukebox_guessneighbors_filtered </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a>&#160;</td>
          <td class="paramname"><em>seed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *&#160;</td>
          <td class="paramname"><em>neighbors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_neighbors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *&#160;</td>
          <td class="paramname"><em>limit_to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_limit_to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tries to guess the most similar neighbors to the given trackid. </p>
<p>In contrast to <a class="el" href="musly_8h.html#a9446ab1e6e40fe18cf03dc2c933bfb01" title="Tries to guess the most similar neighbors to the given trackid. ">musly_jukebox_guessneighbors()</a>, this version does not search for neighbor candidates among all registered tracks of the jukebox, but allows to limit the search to a list of tracks identified by their track ids. This can be useful to incorporate external search results, e.g., using metadata.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="musly_8h.html#a88b99daf48098bfb2aa46ea95869ad1b" title="Tries to guess the most similar neighbors to the given trackid. ">musly_jukebox_guessneighbors_filtered()</a> with <code>num_limit_to</code> set to zero is exactly equivalent to <a class="el" href="musly_8h.html#a9446ab1e6e40fe18cf03dc2c933bfb01" title="Tries to guess the most similar neighbors to the given trackid. ">musly_jukebox_guessneighbors()</a>. <a class="el" href="musly_8h.html#a88b99daf48098bfb2aa46ea95869ad1b" title="Tries to guess the most similar neighbors to the given trackid. ">musly_jukebox_guessneighbors_filtered()</a> with <code>limit_to</code> set to a list of all registered track ids will generally also return the same results as <a class="el" href="musly_8h.html#a9446ab1e6e40fe18cf03dc2c933bfb01" title="Tries to guess the most similar neighbors to the given trackid. ">musly_jukebox_guessneighbors()</a>, but may be a lot slower due to additional lookups and worse locality.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>An initialized Musly jukebox object with tracks added through musly_jukebox_addtrack(). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seed</td><td>The seed track id to search for its nearest neighbors. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">neighbors</td><td>The neighbors will be written to this preallocated array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_neighbors</td><td>The maximum number of neighbors to write to the neighbors array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">limit_to</td><td>A list of track ids to limit the search to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_limit_to</td><td>The length of the <code>limit_to</code> array. If zero, <code>limit_to</code> is ignored and all registered track ids are searched instead. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of neighbors found for the given seed trackid (success). -1 is returned on a failure.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#a9446ab1e6e40fe18cf03dc2c933bfb01" title="Tries to guess the most similar neighbors to the given trackid. ">musly_jukebox_guessneighbors()</a>, <a class="el" href="musly_8h.html#a6dfead82d6ece20a4b80e96b57ebec18" title="Computes the similarity between a seed track and a list of other music tracks. ">musly_jukebox_similarity()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="aa817bd8fc3b5dd2fb285c6bf9709983b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char* musly_jukebox_listdecoders </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lists all available audio file decoders. </p>
<p>The decoders are returned as a single null terminated string. The decoders are separated by a comma (,). Use a decoder name to power on a Musly jukebox <a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a> The decoders are used in <a class="el" href="musly_8h.html#af78d36e036c5a52ff77a564f9e263259" title="Compute a music similarity model (musly_track) from the audio file. ">musly_track_analyze_audiofile()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>all available audio file decoders.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a385b39f2ca83a08809329c771a314f2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char* musly_jukebox_listmethods </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lists all available music similarity methods. </p>
<p>The methods are returned as a single null terminated string. The methods are separated by a comma (,). Use a method name to power on a Musly jukebox.</p>
<dl class="section return"><dt>Returns</dt><dd>all available methods</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2c653b4ea8349785cd437cce3a8cf99f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> musly_jukebox_maxtrackid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the largest track identifier ever registered with the Musly jukebox. </p>
<p>Along with <a class="el" href="musly_8h.html#a340577e576414de1dcacfff8df399201" title="Returns the number of tracks currently registered with the Musly jukebox. ">musly_jukebox_trackcount()</a>, this can be used for versioning the state of a jukebox: <code>(maxtrackid+1).(maxtrackid+1-trackcount)</code> is a two-element version number that will never decrease in the lifetime of a jukebox, provided that <a class="el" href="musly_8h.html#a2c653b4ea8349785cd437cce3a8cf99f" title="Returns the largest track identifier ever registered with the Musly jukebox. ">musly_jukebox_maxtrackid()</a> always increases when adding a track.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>the Musly jukebox to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the largest trackid seen by <code>jukebox</code>, or -1 if it has not seen any</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#a69f7fc47f7ceb62673a53cfac06bd750" title="Add tracks to the Musly jukebox. ">musly_jukebox_addtracks()</a>, <a class="el" href="musly_8h.html#a303866950be1803afaa5ffd47203fdc7" title="Remove tracks from the Musly jukebox. ">musly_jukebox_removetracks()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6ecc1b54fdd883b73b8bcfb8e07e5b01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> void musly_jukebox_poweroff </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitializes the given Musly jukebox. </p>
<p>The referenced method and decoder objects are freed. Previously allocated Musly tracks allocated with <a class="el" href="musly_8h.html#a6c43fe07d5511b36f012a02bb7963aec" title="Allocates a musly_track in memory. ">musly_track_alloc()</a> need to be freed separately. The referenced Musly jukebox object is invalidated by this call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>the Musly jukebox to deinitialize.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aef82aafb34364236f29c1378d9493a4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="structmusly__jukebox.html">musly_jukebox</a>* musly_jukebox_poweron </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>decoder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a reference to an initialized Musly jukebox object. </p>
<p>To initialize Musly you need to specify a music similarity method to use and a decoder. You can set both values to 0 (NULL) to initialize the default method and decoder. To list all available music similarity methods use <a class="el" href="musly_8h.html#a385b39f2ca83a08809329c771a314f2f" title="Lists all available music similarity methods. ">musly_jukebox_listmethods()</a>. To list all available audio file decoders use <a class="el" href="musly_8h.html#aa817bd8fc3b5dd2fb285c6bf9709983b" title="Lists all available audio file decoders. ">musly_jukebox_listdecoders()</a>. If the initialization fails, NULL is returned. To get more information about the initialized music similarity method use <a class="el" href="musly_8h.html#acf76c80478ff84c795cb912eaafb1e46" title="Describe the initialized method. ">musly_jukebox_aboutmethod()</a>.</p>
<p>The returned reference is required for almost all subsequent calls to Musly library calls. To add a music track to the jukebox inventory use <a class="el" href="musly_8h.html#a69f7fc47f7ceb62673a53cfac06bd750" title="Add tracks to the Musly jukebox. ">musly_jukebox_addtracks()</a>. To compute recommendations with the jukebox use <a class="el" href="musly_8h.html#a6dfead82d6ece20a4b80e96b57ebec18" title="Computes the similarity between a seed track and a list of other music tracks. ">musly_jukebox_similarity()</a>. Note that before adding tracks or computing similarities, the music style needs to be set with <a class="el" href="musly_8h.html#ab96efc48ff5ce54f49bb20960249cfd6" title="Initialize the jukebox music style. ">musly_jukebox_setmusicstyle()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">method</td><td>the desired music similarity method. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">decoder</td><td>the desired decoder to initialize. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reference to an initialized Musly jukebox object.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#a6ecc1b54fdd883b73b8bcfb8e07e5b01" title="Deinitializes the given Musly jukebox. ">musly_jukebox_poweroff()</a>, <a class="el" href="musly_8h.html#a69f7fc47f7ceb62673a53cfac06bd750" title="Add tracks to the Musly jukebox. ">musly_jukebox_addtracks()</a>, <a class="el" href="musly_8h.html#ab96efc48ff5ce54f49bb20960249cfd6" title="Initialize the jukebox music style. ">musly_jukebox_setmusicstyle()</a>, <a class="el" href="musly_8h.html#a6dfead82d6ece20a4b80e96b57ebec18" title="Computes the similarity between a seed track and a list of other music tracks. ">musly_jukebox_similarity()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a303866950be1803afaa5ffd47203fdc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_removetracks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *&#160;</td>
          <td class="paramname"><em>trackids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_tracks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove tracks from the Musly jukebox. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>the Musly jukebox to remove the tracks from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trackids</td><td>the track identifiers of the tracks to remove, unknown identifiers will be silently ignored. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_tracks</td><td>the length of the <code>trackids</code> array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success -1 on an error.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#a69f7fc47f7ceb62673a53cfac06bd750" title="Add tracks to the Musly jukebox. ">musly_jukebox_addtracks()</a>, <a class="el" href="musly_8h.html#a340577e576414de1dcacfff8df399201" title="Returns the number of tracks currently registered with the Musly jukebox. ">musly_jukebox_trackcount()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab96efc48ff5ce54f49bb20960249cfd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_setmusicstyle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> **&#160;</td>
          <td class="paramname"><em>tracks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_tracks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the jukebox music style. </p>
<p>To properly use the similarity function it is necessary to give the algorithms a hint about the music we are working with. Do this by passing a random sample of the tracks you want to analyze. As a rule of thumb use a maximum of 1000 randomly selected tracks to set the music style. The tracks are analyzed and copied to internal storage as needed, so you may safely deallocate the given array and tracks after the call.</p>
<dl class="section note"><dt>Note</dt><dd>This must be called before adding any tracks to the jukebox. If you change the music style of a filled jukebox, you need to re-register all existing tracks via <a class="el" href="musly_8h.html#a69f7fc47f7ceb62673a53cfac06bd750" title="Add tracks to the Musly jukebox. ">musly_jukebox_addtracks()</a>, otherwise tracks added after the style change will not be properly compared to tracks added before the change.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>the Musly jukebox to set the music stlye. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tracks</td><td>a random sample array of Musly tracks to use for the initialization. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_tracks</td><td>the number of Musly tracks.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a>, <a class="el" href="musly_8h.html#a9752c9a9adfd5f99454cb31084a717ad" title="Compute a music similarity model (musly_track) from the given PCM signal. ">musly_track_analyze_pcm()</a>, <a class="el" href="musly_8h.html#af78d36e036c5a52ff77a564f9e263259" title="Compute a music similarity model (musly_track) from the audio file. ">musly_track_analyze_audiofile()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6dfead82d6ece20a4b80e96b57ebec18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_similarity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *&#160;</td>
          <td class="paramname"><em>seed_track</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a>&#160;</td>
          <td class="paramname"><em>seed_trackid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> **&#160;</td>
          <td class="paramname"><em>tracks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *&#160;</td>
          <td class="paramname"><em>trackids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_tracks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>similarities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the similarity between a seed track and a list of other music tracks. </p>
<p>To compute similarities between two music tracks the following steps have to been taken:</p>
<ul>
<li>initialize a <a class="el" href="structmusly__jukebox.html" title="The Musly base object storing the initialized music similarity method and audio decoder information...">musly_jukebox</a> object with: <a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a></li>
<li>analyze audio files, e.g. with <a class="el" href="musly_8h.html#af78d36e036c5a52ff77a564f9e263259" title="Compute a music similarity model (musly_track) from the audio file. ">musly_track_analyze_audiofile()</a></li>
<li>set the music style of the jukebox by using a small random sample of the audio tracks analyzed: <a class="el" href="musly_8h.html#ab96efc48ff5ce54f49bb20960249cfd6" title="Initialize the jukebox music style. ">musly_jukebox_setmusicstyle()</a></li>
<li>add the audio tracks to the <a class="el" href="structmusly__jukebox.html" title="The Musly base object storing the initialized music similarity method and audio decoder information...">musly_jukebox</a>: <a class="el" href="musly_8h.html#a69f7fc47f7ceb62673a53cfac06bd750" title="Add tracks to the Musly jukebox. ">musly_jukebox_addtracks()</a></li>
<li>use this function to compute similarities.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>The Musly jukebox to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seed_track</td><td>The seed track to compute similarities to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seed_trackid</td><td>The id of the seed track as returned by <a class="el" href="musly_8h.html#a69f7fc47f7ceb62673a53cfac06bd750" title="Add tracks to the Musly jukebox. ">musly_jukebox_addtracks()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tracks</td><td>An array of musly_track objects to compute the similarities to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trackids</td><td>An array of musly_trackids corresponding to the tracks array. The musly_trackids are returned after adding them to the <a class="el" href="structmusly__jukebox.html" title="The Musly base object storing the initialized music similarity method and audio decoder information...">musly_jukebox</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_tracks</td><td>the size of the tracks and trackids arrays </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">similarities</td><td>a preallocated float array to hold the computed similarities. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success and -1 on an error.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a>, <a class="el" href="musly_8h.html#af78d36e036c5a52ff77a564f9e263259" title="Compute a music similarity model (musly_track) from the audio file. ">musly_track_analyze_audiofile()</a>, <a class="el" href="musly_8h.html#a9752c9a9adfd5f99454cb31084a717ad" title="Compute a music similarity model (musly_track) from the given PCM signal. ">musly_track_analyze_pcm()</a>, <a class="el" href="musly_8h.html#ab96efc48ff5ce54f49bb20960249cfd6" title="Initialize the jukebox music style. ">musly_jukebox_setmusicstyle()</a>, <a class="el" href="musly_8h.html#a69f7fc47f7ceb62673a53cfac06bd750" title="Add tracks to the Musly jukebox. ">musly_jukebox_addtracks()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a340577e576414de1dcacfff8df399201"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_trackcount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of tracks currently registered with the Musly jukebox. </p>
<p>Along with <a class="el" href="musly_8h.html#a2c653b4ea8349785cd437cce3a8cf99f" title="Returns the largest track identifier ever registered with the Musly jukebox. ">musly_jukebox_maxtrackid()</a>, this can be used for versioning the state of a jukebox.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>the Musly jukebox to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of tracks currently registered with <code>jukebox</code>, or -1 on an error</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#a69f7fc47f7ceb62673a53cfac06bd750" title="Add tracks to the Musly jukebox. ">musly_jukebox_addtracks()</a>, <a class="el" href="musly_8h.html#a303866950be1803afaa5ffd47203fdc7" title="Remove tracks from the Musly jukebox. ">musly_jukebox_removetracks()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6c43fe07d5511b36f012a02bb7963aec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a>* musly_track_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a musly_track in memory. </p>
<p>As the size of a musly_track varies for each music similarity method, an initialized Musly jukebox object reference needs to be passed argument. You need to free the allocated musly_track with <a class="el" href="musly_8h.html#a3de4892f674f845cf4b0fe2f5af77331" title="Frees a musly_track previously allocated with musly_track_alloc(). ">musly_track_free()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>A reference to an initialized Musly jukebox object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An allocated musly_track float array.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#a3de4892f674f845cf4b0fe2f5af77331" title="Frees a musly_track previously allocated with musly_track_alloc(). ">musly_track_free()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af78d36e036c5a52ff77a564f9e263259"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_track_analyze_audiofile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>audiofile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>excerpt_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>excerpt_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *&#160;</td>
          <td class="paramname"><em>track</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute a music similarity model (musly_track) from the audio file. </p>
<p>The audio file is decoded with the decoder selected when initializing the <a class="el" href="structmusly__jukebox.html" title="The Musly base object storing the initialized music similarity method and audio decoder information...">musly_jukebox</a>, down- and re-sampled to a 22050Hz mono signal before a musly_track is computed. The audio is analyzed according to the initialized music similarity method and the musly_track is filled with the feature data. To compute the similarity to other musly_track objects, use the <a class="el" href="musly_8h.html#a6dfead82d6ece20a4b80e96b57ebec18" title="Computes the similarity between a seed track and a list of other music tracks. ">musly_jukebox_similarity()</a> function. If you already decoded the PCM signal of the music you want to analyze, use <a class="el" href="musly_8h.html#a9752c9a9adfd5f99454cb31084a717ad" title="Compute a music similarity model (musly_track) from the given PCM signal. ">musly_track_analyze_pcm()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>While you can control which portion of the file will be decoded and passed to <a class="el" href="musly_8h.html#a9752c9a9adfd5f99454cb31084a717ad" title="Compute a music similarity model (musly_track) from the given PCM signal. ">musly_track_analyze_pcm()</a>, it depends on the music similarity measure whether the full excerpt is going to be used to build the similarity model. Generally, it is enough to decode 30 to 60 seconds, and it is advisable to exclude nonrepresentative parts such as the intro and outro of a song.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>A reference to an initialized <a class="el" href="structmusly__jukebox.html" title="The Musly base object storing the initialized music similarity method and audio decoder information...">musly_jukebox</a> object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">audiofile</td><td>An audio file. The file will be decoded with the audio decoder. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">excerpt_length</td><td>The maximum length in seconds of the excerpt to decode. If zero or greater than the file length, decodes the whole file. Suggested value: 30. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">excerpt_start</td><td>The starting position in seconds of the excerpt to decode. If zero, decoding starts at the beginning. If negative, the excerpt is centered in the file, but starts at <code>-excerpt_start<code> the latest. If positive and <code>excerpt_start + excerpt_length</code> exceeds the file length, then the excerpt is taken from the end of the file. Suggested value: -48. </code></code></td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">track</td><td><code><code>The musly_track to write the music similarity features.</code></code></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code><code> 0 on success, -1 on failure.</code></code></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><code><code> <a class="el" href="musly_8h.html#af78d36e036c5a52ff77a564f9e263259" title="Compute a music similarity model (musly_track) from the audio file. ">musly_track_analyze_audiofile()</a>, <a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a>. </code></code></dd></dl>

</div>
</div>
<a class="anchor" id="a9752c9a9adfd5f99454cb31084a717ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_track_analyze_pcm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>mono_22khz_pcm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length_pcm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *&#160;</td>
          <td class="paramname"><em>track</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute a music similarity model (musly_track) from the given PCM signal. </p>
<p>The audio is analyzed according to the initialized music similarity method and the musly_track is filled with the feature data. The musly_track can then be used to compute the music similarity between other musly_track features (use <a class="el" href="musly_8h.html#a6dfead82d6ece20a4b80e96b57ebec18" title="Computes the similarity between a seed track and a list of other music tracks. ">musly_jukebox_similarity()</a>). If you are analyzing music files, use <a class="el" href="musly_8h.html#af78d36e036c5a52ff77a564f9e263259" title="Compute a music similarity model (musly_track) from the audio file. ">musly_track_analyze_audiofile()</a> which does the decoding and down-/re-sampling of audio itself.</p>
<dl class="section note"><dt>Note</dt><dd>Depending on the music similarity method, not all of the given signal will be used in the computation, but possibly only the central 60 seconds.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>A reference to an initialized <a class="el" href="structmusly__jukebox.html" title="The Musly base object storing the initialized music similarity method and audio decoder information...">musly_jukebox</a> object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mono_22khz_pcm</td><td>The audio signal to analyze represented as a PCM float array. The audio signal has to be mono and sampled at 22050hz with float values between -1.0 and +1.0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length_pcm</td><td>The length of the input float array. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">track</td><td>The musly_track to write the music similarity features.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#af78d36e036c5a52ff77a564f9e263259" title="Compute a music similarity model (musly_track) from the audio file. ">musly_track_analyze_audiofile()</a>, <a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a498bd23a04bf2232c1a710a024663ffd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_track_binsize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the buffer size in bytes required to hold a musly_track. </p>
<p>To serialize a musly_track for persistent use <a class="el" href="musly_8h.html#ac86051d740c66e0ebedd58c0f9280717" title="Serializes a musly_track to a byte buffer. ">musly_track_tobin()</a>. The buffer size varies for each music similarity method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>A reference to an initialized <a class="el" href="structmusly__jukebox.html" title="The Musly base object storing the initialized music similarity method and audio decoder information...">musly_jukebox</a> object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The required minimum buffer size required to hold a musly_track.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a>, <a class="el" href="musly_8h.html#ac86051d740c66e0ebedd58c0f9280717" title="Serializes a musly_track to a byte buffer. ">musly_track_tobin()</a>, <a class="el" href="musly_8h.html#a04026ab777b0fcc516946250257894a2" title="Deserializes a byte buffer to a musly_track. ">musly_track_frombin()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a3de4892f674f845cf4b0fe2f5af77331"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> void musly_track_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *&#160;</td>
          <td class="paramname"><em>track</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees a musly_track previously allocated with <a class="el" href="musly_8h.html#a6c43fe07d5511b36f012a02bb7963aec" title="Allocates a musly_track in memory. ">musly_track_alloc()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">track</td><td>The musly track you want to free.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#a6c43fe07d5511b36f012a02bb7963aec" title="Allocates a musly_track in memory. ">musly_track_alloc()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a04026ab777b0fcc516946250257894a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_track_frombin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>from_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *&#160;</td>
          <td class="paramname"><em>to_track</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deserializes a byte buffer to a musly_track. </p>
<p>Use this method re-transform a previously serialized byte buffer (<a class="el" href="musly_8h.html#ac86051d740c66e0ebedd58c0f9280717" title="Serializes a musly_track to a byte buffer. ">musly_track_tobin()</a>) to a musly_track. From the buffer <a class="el" href="musly_8h.html#a498bd23a04bf2232c1a710a024663ffd" title="Returns the buffer size in bytes required to hold a musly_track. ">musly_track_binsize()</a> bytes will be read.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>A reference to an initialized <a class="el" href="structmusly__jukebox.html" title="The Musly base object storing the initialized music similarity method and audio decoder information...">musly_jukebox</a> object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_buffer</td><td>the buffer to use for deserialization </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">to_track</td><td>the musyl_track to store the deserialized track.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes read (<a class="el" href="musly_8h.html#a498bd23a04bf2232c1a710a024663ffd" title="Returns the buffer size in bytes required to hold a musly_track. ">musly_track_binsize()</a>) in case of success, -1 in case an error occurred.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a>, <a class="el" href="musly_8h.html#a498bd23a04bf2232c1a710a024663ffd" title="Returns the buffer size in bytes required to hold a musly_track. ">musly_track_binsize()</a>, <a class="el" href="musly_8h.html#ac86051d740c66e0ebedd58c0f9280717" title="Serializes a musly_track to a byte buffer. ">musly_track_tobin()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ac23dbbe0e6452d3b06afce8f28a04c0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_track_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size of a musly_track in bytes. </p>
<p>In case you want to allocate the musly_track yourself, allocate the memory and cast the memory to a musly_track. The size of each musly_track varies from music similarity method to method, that is, the size depends on the method musly has been initialized with (<a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a>). For safe serializing and deserializing of a musly_track to/from memory use <a class="el" href="musly_8h.html#ac86051d740c66e0ebedd58c0f9280717" title="Serializes a musly_track to a byte buffer. ">musly_track_tobin()</a> and <a class="el" href="musly_8h.html#a04026ab777b0fcc516946250257894a2" title="Deserializes a byte buffer to a musly_track. ">musly_track_frombin()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>A reference to an initialized <a class="el" href="structmusly__jukebox.html" title="The Musly base object storing the initialized music similarity method and audio decoder information...">musly_jukebox</a> object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes of a musly_track for the given <a class="el" href="structmusly__jukebox.html" title="The Musly base object storing the initialized music similarity method and audio decoder information...">musly_jukebox</a>.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a>, <a class="el" href="musly_8h.html#ac86051d740c66e0ebedd58c0f9280717" title="Serializes a musly_track to a byte buffer. ">musly_track_tobin()</a>, <a class="el" href="musly_8h.html#a04026ab777b0fcc516946250257894a2" title="Deserializes a byte buffer to a musly_track. ">musly_track_frombin()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ac86051d740c66e0ebedd58c0f9280717"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_track_tobin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *&#160;</td>
          <td class="paramname"><em>from_track</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>to_buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serializes a musly_track to a byte buffer. </p>
<p>Use this method to store or transmit a musly_track. <a class="el" href="musly_8h.html#a498bd23a04bf2232c1a710a024663ffd" title="Returns the buffer size in bytes required to hold a musly_track. ">musly_track_binsize()</a> bytes will be written to to_buffer. To deserialize a buffer use <a class="el" href="musly_8h.html#a04026ab777b0fcc516946250257894a2" title="Deserializes a byte buffer to a musly_track. ">musly_track_frombin()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>A reference to an initialized <a class="el" href="structmusly__jukebox.html" title="The Musly base object storing the initialized music similarity method and audio decoder information...">musly_jukebox</a> object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_track</td><td>The track to serialize </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">to_buffer</td><td>The buffer receiving the serialized track. The buffer needs to be preallocated with <a class="el" href="musly_8h.html#a498bd23a04bf2232c1a710a024663ffd" title="Returns the buffer size in bytes required to hold a musly_track. ">musly_track_binsize()</a> bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes written (<a class="el" href="musly_8h.html#a498bd23a04bf2232c1a710a024663ffd" title="Returns the buffer size in bytes required to hold a musly_track. ">musly_track_binsize()</a>) in case of success, -1 in case an error occurred.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#aef82aafb34364236f29c1378d9493a4b" title="Returns a reference to an initialized Musly jukebox object. ">musly_jukebox_poweron()</a>, <a class="el" href="musly_8h.html#a498bd23a04bf2232c1a710a024663ffd" title="Returns the buffer size in bytes required to hold a musly_track. ">musly_track_binsize()</a>, <a class="el" href="musly_8h.html#a04026ab777b0fcc516946250257894a2" title="Deserializes a byte buffer to a musly_track. ">musly_track_frombin()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ac12da944829cd47a94ac442306868b14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* musly_track_tostr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmusly__jukebox.html">musly_jukebox</a> *&#160;</td>
          <td class="paramname"><em>jukebox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *&#160;</td>
          <td class="paramname"><em>from_track</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function displays a string representation of the given musly_track. </p>
<p>The data is displayed in a flat format. All data structures (matrices, covariance matrices) are exported as vectors. This call can be used to export the feature data for further analysis. Note: This function is not threadsafe!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>The Musly jukebox to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_track</td><td>the musly_track to convert into a string representation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a constant null terminated string representing from_track.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="musly_8h.html#ac86051d740c66e0ebedd58c0f9280717" title="Serializes a musly_track to a byte buffer. ">musly_track_tobin()</a>, <a class="el" href="musly_8h.html#a04026ab777b0fcc516946250257894a2" title="Deserializes a byte buffer to a musly_track. ">musly_track_frombin()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a69bb0402dd32bebb9e2daf0514e715c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="musly_8h.html#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char* musly_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the version of Musly. </p>
<dl class="section return"><dt>Returns</dt><dd>the version as a null terminated string. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 18 2014 13:10:09 for Musly by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
